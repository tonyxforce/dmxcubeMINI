<!DOCTYPE html>

<head>

	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
	<title>DMXCube Config</title>
	<meta content="Matthew Tong - http://github.com/mtongnz/" name="DC.creator" />
	<meta content="Dominik Hörich - http://github.com/tonyxforce/" name="DC.creator" />
	<meta content="en" name="DC.language" />
	<meta content="width=device-width,initial-scale=1" name="viewport" />
	<link href="style.css" rel="stylesheet" />
	<link rel="icon" href="favicon.svg" sizes="any" type="image/svg+xml">
</head>

<body onload="bodyLoad()">

	<div id="page">
		<div class="inner">
			<div class="mast">
				<div class="title"><br>
					<h1>DMXCube</h1>
				</div>
				<ul class="nav">
					<li class="first"><a href="javascript: void(0)" id="menuClick1">Device Status</a></li>
					<li><a href="javascript: void(0)" id="menuClick2">WiFi</a></li>
					<li><a href="javascript: void(0)" id="menuClick3">IP settings</a></li>
					<li><a href="javascript: void(0)" id="menuClick4">Port A</a></li>
					<li><a href="javascript: void(0)" id="menuClick5">Port B</a></li>
					<li><a href="javascript: void(0)" id="menuClick6">Update</a></li>
					<li class="last"><a href="javascript: reboot()">Reboot</a></li>
				</ul>
				<div class="author"><i>Design by</i> Matthew Tong and Dominik Hörich</div>
			</div>
			<div class="main section">
				<div class="hide error" id="errComm">
					<h2>Error</h2>
					<p class="center">There was an error communicating with the device. Refresh the page and try again.</p>
				</div>
				<div class="show section error" id="errFetch" name="sections">
					<h2>Fetching Data</h2>
					<p class="center">Fetching data from device. If this message is still here in 15 seconds, try refreshing the
						page
						or clicking the menu option again.
					</p>
				</div>
				<div class="hide section" name="sections">
					<h2>Device Status</h2>
					<div class="grid">
						<span class="grid-item grid-item-left colored">MAC Address:</span>
						<span class="grid-item grid-item-right" name="macAddress"></span>
						<span class="grid-item grid-item-left colored">Wifi Status:</span>
						<span class="grid-item grid-item-right" name="wifiStatus"></span>
						<span class="grid-item grid-item-left colored">IP Address:</span>
						<span class="grid-item grid-item-right" name="ipAddressT"></span>
						<span class="grid-item grid-item-left colored">Subnet Address:</span>
						<span class="grid-item grid-item-right" name="subAddressT"></span>
						<span class="grid-item grid-item-left colored">Port A:</span>
						<span class="grid-item grid-item-right" name="portAStatus"></span>
						<span class="grid-item grid-item-left colored">Port B:</span>
						<span class="grid-item grid-item-right" name="portBStatus"></span>
						<span class="grid-item grid-item-left colored">Firmware version:</span>
						<span class="grid-item grid-item-right" name="firmVer"></span>
					</div>
				</div>
				<div class="hide section" name="sections">
					<input name="save" type="button" value="Save Changes" />
					<h2>WiFi Settings</h2>
					<div class="grid">


						<span class="grid-item grid-item-left">MAC Address:</span>
						<span class="grid-item grid-item-right monospace colored" name="macAddress"></span>

						<span class="grid-item grid-item-left">WPA2 Enterprise</span>
						<span class="grid-item grid-item-right">
							<input type="checkbox" id="wpa2Enterprise" name="wpa2Enterprise">
						</span>


						<span class="grid-item grid-item-left">Wifi SSID:</span>
						<span class="grid-item grid-item-right">
							<input type="text" name="wifiSSID" />
						</span>

						<span class="grid-item grid-item-left wpa2e">Username:</span>
						<span class="grid-item grid-item-right wpa2e">
							<input type="text" name="wifiUsername">
						</span>

						<span class="grid-item grid-item-left">Password:</span>
						<span class="grid-item grid-item-right">
							<input type="text" name="wifiPass" />
						</span>

						<span class="grid-item grid-item-left">Hotspot SSID:</span>
						<span class="grid-item grid-item-right">
							<input type="text" name="hotspotSSID" />
						</span>


						<span class="grid-item grid-item-left">Password:</span>
						<span class="grid-item grid-item-right">
							<input type="text" name="hotspotPass" />
						</span>


						<span class="grid-item grid-item-left">Connection timeout:</span>
						<span class="grid-item grid-item-right">
							<input name="hotspotDelay" type="number" min="0" max="180" class="number" />
							seconds
						</span>

						<span class="grid-item grid-item-left">Stand Alone:</span>
						<span class="grid-item grid-item-right"><input name="standAloneEnable" type="checkbox"
								value="true" /></span>

					</div>
					<p class="center">In normal mode, the hotspot will start after <i>delay</i> seconds if the main WiFi won"t
						connect.
						If no users connect, the device will reset and attempt the main WiFi again. This feature is purely for
						changing settings and ArtNet data is ignored.</p>
					<p class="center">Stand alone mode disables the primary WiFi connection and allows ArtNet data to be
						received
						via
						the hotspot connection.</p>
				</div>
				<div class="hide section" name="sections">
					<input name="save" type="button" value="Save Changes" />
					<h2>IP settings</h2>
					<div class="grid">
						<span class="grid-item grid-item-left">Enable DHCP:</span>
						<span class="grid-item grid-item-right"><input name="dhcpEnable" type="checkbox" value="true" /></span>

						<span class="grid-item grid-item-left">Hostname:</span>
						<span class="grid-item grid-item-right">
							<input type="text" name="hostName" />
						</span>

						<span class="grid-item grid-item-left">IP Address:</span>
						<span class="grid-item grid-item-right">
							<input name="ipAddress" type="number" min="0" max="255" class="number" />.
							<input name="ipAddress" type="number" min="0" max="255" class="number" />.
							<input name="ipAddress" type="number" min="0" max="255" class="number" />.
							<input name="ipAddress" type="number" min="0" max="255" class="number" />
						</span>

						<span class="grid-item grid-item-left">Subnet Address:</span>
						<span class="grid-item grid-item-right">
							<input name="subAddress" type="number" min="0" max="255" class="number" />.
							<input name="subAddress" type="number" min="0" max="255" class="number" />.
							<input name="subAddress" type="number" min="0" max="255" class="number" />.
							<input name="subAddress" type="number" min="0" max="255" class="number" />
						</span>

						<span class="grid-item grid-item-left">Gateway Address:</span>
						<span class="grid-item grid-item-right">
							<input name="gwAddress" type="number" min="0" max="255" class="number" />.
							<input name="gwAddress" type="number" min="0" max="255" class="number" />.
							<input name="gwAddress" type="number" min="0" max="255" class="number" />.
							<input name="gwAddress" type="number" min="0" max="255" class="number" />
						</span>

						<span class="grid-item grid-item-left">Broadcast Address:</span>
						<span class="grid-item grid-item-right monospace colored" name="bcAddress"></span>

						<span class="grid-item grid-item-left">Enable ArduinoOTA:</span>
						<span class="grid-item grid-item-right">
							<input name="allowOTA" type="checkbox" value="false" />
						</span>

						<span class="grid-item grid-item-left">Enable Automatic display refresh:</span>
						<span class="grid-item grid-item-right">
							<input name="autoRefresh" type="checkbox" value="false" />
						</span>
					</div>

					<p class="center">These settings only affect the main WiFi connection. The hotspot will always have DHCP
						enabled
						and an IP of <b>2.0.0.1</b></p>
				</div>
				<div class="hide section" name="sections"><input name="save" type="button" value="Save Changes" />
					<h2>Port A Settings</h2>
					<div class="grid">

						<span class="grid-item grid-item-left">Port Type:</span>
						<span class="grid-item grid-item-right">
							<select class="select" name="portAmode">
								<option value="0">DMX Output</option>
								<option value="1">DMX Output with RDM</option>
								<option value="2">DMX Input</option>
								<option value="3">LED Pixels - WS2812</option>
							</select>
						</span>

						<span class="grid-item grid-item-left">Protocol:</span>
						<span class="grid-item grid-item-right">
							<select class="select" name="portAprot">
								<option value="0">Artnet v4</option>
								<option value="1">Artnet v4 with sACN</option>
							</select>
						</span>

						<span class="grid-item grid-item-left">Merge Mode:</span>
						<span class="grid-item grid-item-right">
							<select class="select" name="portAmerge">
								<option value="0">Merge LTP</option>
								<option value="1">Merge HTP</option>
							</select>
						</span>

						<span class="grid-item grid-item-left">Net:</span>
						<span class="grid-item grid-item-right">
							<input name="portAnet" type="number" min="0" max="127" class="number portUni" />
						</span>

						<span class="grid-item grid-item-left">Subnet:</span>
						<span class="grid-item grid-item-right">
							<input name="portAsub" type="number" min="0" max="15" class="number portUni" />
						</span>

						<span class="grid-item grid-item-left">Universe:</span>
						<span class="grid-item grid-item-right">
							<input type="number" min="0" max="15" name="portAuni" class="number portUni" />
							<span class="portApix hide">
								,
								<input type="number" min="0" max="15" name="portAuni" class="number portUni" />,
								<input type="number" min="0" max="15" name="portAuni" class="number portUni" />,
								<input type="number" min="0" max="15" name="portAuni" class="number portUni" />
							</span>
						</span>

						<span class="grid-item grid-item-left sacnA hide">sACN Universe:</span>
						<span class="grid-item grid-item-right sacnA hide">
							<input type="number" min="0" max="63999" name="portAsACNuni" class="number portUni" />
							<span class="portApix hide">
								,
								<input type="number" min="0" max="63999" name="portAsACNuni" class="number portUni" />,
								<input type="number" min="0" max="63999" name="portAsACNuni" class="number portUni" />,
								<input type="number" min="0" max="63999" name="portAsACNuni" class="number portUni" />
							</span>
						</span>

						<span class="grid-item grid-item-left DmxInBcAddrA">Broadcast Address:</span>
						<span class="grid-item grid-item-right DmxInBcAddrA">
							<input type="number" min="0" max="255" name="dmxInBroadcast" class="number portUni" />
							.
							<input type="number" min="0" max="255" name="dmxInBroadcast" class="number portUni" />
							.
							<input type="number" min="0" max="255" name="dmxInBroadcast" class="number portUni" />
							.
							<input type="number" min="0" max="255" name="dmxInBroadcast" class="number portUni" />
						</span>
					</div>
				</div>
				<div class="hide section" name="sections">
					<input name="save" type="button" value="Save Changes" />
					<h2>Port B Settings</h2>
					<div class="grid">

						<span class="grid-item grid-item-left">Port Type:</span>
						<span class="grid-item grid-item-right">
							<select class="select" name="portBmode">
								<option value=0>DMX Output
								<option value=1>DMX Output with RDM
								<option value=3>LED Pixels - WS2812
							</select>
						</span>

						<span class="grid-item grid-item-left">Protocol:</span>
						<span class="grid-item grid-item-right">
							<select class="select" name="portBprot">
								<option value=0>Artnet v4
								<option value=1>Artnet v4 with sACN DMX
							</select>
						</span>

						<span class="grid-item grid-item-left">Merge Mode:</span>
						<span class="grid-item grid-item-right">
							<select class="select" name="portBmerge">
								<option value=0>Merge LTP
								<option value=1>Merge HTP
							</select>
						</span>

						<span class="grid-item grid-item-left">Net:</span>
						<span class="grid-item grid-item-right"><input name="portBnet" type="number" min="0" max="127"
								class="number portUni" /></span>

						<span class="grid-item grid-item-left">Subnet:</span>
						<span class="grid-item grid-item-right"><input name="portBsub" type="number" min="0" max="15"
								class="number portUni" /></span>

						<span class="grid-item grid-item-left">Universe:</span>
						<span class="grid-item grid-item-right">
							<input type="number" min="0" max="15" name="portBuni" class="number portUni" />
							<span class="portBpix hide">
								,
								<input type="number" min="0" max="15" name="portBuni" class="number portUni" />,
								<input type="number" min="0" max="15" name="portBuni" class="number portUni" />,
								<input type="number" min="0" max="15" name="portBuni" class="number portUni" />
							</span>
						</span>
						<span class="grid-item grid-item-left sacnB hide">sACN Universe:</span>
						<span class="grid-item grid-item-right sacnB hide">
							<input type="number" min="1" max="63999" name="portBsACNuni" class="number portUni" />
							<span class="portBpix hide">
								,
								<input type="number" min="1" max="63999" name="portBsACNuni" class="number portUni" />,
								<input type="number" min="1" max="63999" name="portBsACNuni" class="number portUni" />,
								<input type="number" min="1" max="63999" name="portBsACNuni" class="number portUni" />
							</span>
						</span>
					</div>
				</div>
				<div class="hide section" name="sections">
					<form action="/update" enctype="multipart/form-data" method="POST" id="firmForm">
					<input name="save" type="button" value="Save Changes" />

						<h2>Update Firmware</h2>
						<div class="grid">
							<span class="grid-item grid-item-left colored">Currently installed version:</span>
							<span class="grid-item grid-item-right" name="firmVer"></span>
							<span class="grid-item grid-item-left colored hide newFirm">Newest version:</span>
							<span class="grid-item grid-item-left">Enable automatic updates on startup:</span>
							<span class="grid-item grid-item-right"><input type="checkbox" name="startupUpdates"></span>
							<span class="grid-item grid-item-right hide newFirm" id="newFirmVer"></span>
							<span class="grid-item grid-item-right colored-red hide newFirm textCenter">New Firmware available!</span>
							<span class="grid-item grid-item-right hide newFirm"><input type="button" class="submit" value="Update"
									id="doUpdate" style="margin:0px"></span>
							<span class="grid-item grid-item-right"><input type="button" class="submit" value="Check for updates"
									id="checkUpdate" style="margin:0px"></span>
						</div>
				</div>
			</div>
		</div>
	</div>
	<script src="script.js"></script>
</body>
</body>

</html>